var all_resident_countries,all_visiting_countries,city_sort_fn,country_sort_fn,slide_duration=500;function displayHideBox(t){var e;if((e=null!=t?$("#LightBox"+t):$(".box_content.active")).length)if(e.hasClass("active"))animation.hide(e,function(){$("ul.tab_content_list > li.active").removeClass("active"),$(".tabs a.active").removeClass("active")}),$("#grayBG").removeClass("active");else{animation.hide($(".box_content.active")),$("#grayBG").addClass("active"),e.find("img[data-src]").each(function(){$(this).attr("src",$(this).attr("data-src")).removeAttr("data-src")});var n,i=$(".all_visiting_countries_container>ul.country_list>li>a.active");if(i.length){var o=e.find('.tabs_wrapper > ul.tabs > li > a[rel="'+all_visiting_countries[i.children("span").html()].resident_countries[$(".map > * > a[onclick]").filter(function(){return new RegExp("^\\s*displayHideBox\\s*\\(\\s*['|\"]?"+t+"['|\"]?\\s*\\)").test($(this).attr("onclick"))}).parent().attr("class").trim()].rel+'"]');switch_tabs(o,!0),n=function(){vfs.utilities.vertical_scroll.animate_to_el(o,300)}}animation.show(e,n)}}$(document).ready(function(){vfs.global_variables.set(),vfs.details.window_dimension.init(),create_all_sort_fn(),generate_all_data(),window.all_resident_countries=all_resident_countries,window.all_visiting_countries=all_visiting_countries,init_all_visiting_list(),init_dropdown_container(),init_tab_container(),dynamic_columns.init(),$("#grayBG").click(function(){displayHideBox()}),$(".tabs a").click(function(){switch_tabs($(this))});var n=$();$(document).click(function(t){var e=$(t.target).closest("ul.city_list > li");e.is(n)||(n.removeClass("active"),n.children(".heading_details_wrapper").children(".details_wrapper").slideUp(slide_duration),n=$(),e.length&&(n=e.addClass("active"),e.children(".heading_details_wrapper").children(".details_wrapper").slideDown(slide_duration)))}),vfs.details.window_dimension.changed_callbacks.add(check_run_window_resize),window.document_ready=!0,check_run_window_resize()}),$(window).on("load",function(){window.loaded=!0,check_run_window_resize()});var create_all_sort_fn=function(){var t={obj_key:"name",replace_chars:{"Å":"A","ô":"o"},case_sensitive:!1},e=vfs.utilities.functions.get_sort_fn;city_sort_fn=e(t),country_sort_fn=e($.extend({},t,{exceptional_values:{top:[],bottom:["Online Visa Application"]}}))},init_tab_container=function(){var e,n,i={".tab_container":{buttons:".tab_buttons > button",contents:".tab_content_wrapper > .tab_content",match_details:{button_attr:"data-content-id",content_attr:"id"},callbacks:{on_active:function(t){t.$old_active_content.length&&t.$old_active_content.find(".dropdown_wrapper > div").data("dropdown_data_displayer").hide_data_container(),this._active_elements.$content.find(".dropdown_wrapper > div").data("dropdown_data_displayer").show_data_container(),set_iframe_height()}}}},o=(e=function(t){var e=$(this),n=t.data,i=n._active_elements;if(!i.$button.is(e)){var o={$old_active_button:i.$button.removeClass("active"),$old_active_content:i.$content.removeClass("active")};e.addClass("active");var a=n._config.match_details,s=e.attr(a.button_attr),l=n._elements.$contents.filter("["+a.content_attr+'="'+s+'"]').addClass("active");i.$button=e,i.$content=l;var r=n._config.callbacks;r&&r.on_active&&r.on_active.call(n,o)}},n=function(t){t._elements.$buttons.on("click",t,e)},function(t,e){this._$container=t,this._config=e,this._elements={$buttons:t.find(e.buttons),$contents:t.find(e.contents)},this._active_elements={$button:$(),$content:$()},n(this),this._elements.$buttons.filter(".active").trigger("click")});return function(){for(var t in i){var e=$(t);if(0!=e.length){var n=i[t];e.each(function(){var t=$(this);t.data("tab_container",new o(t,n))})}}}}(),init_dropdown_container=function(){var s,i,n,o,a,l,r,_,c,u,d,f,t,p,h,v,m,g,b,y,w,x,k,C,j,A={scroll_duration:500},T={"#resident_country_dropdown":{country_content_container:"#resident-content-container",country_list_name:"visiting countries",country_list_data_key:"visiting_countries",dropdown_placeholder:"Search Resident country",data:function(){var t=JSON.parse(JSON.stringify(all_resident_countries));t.sort(country_sort_fn);for(var e=0;e<t.length;e++){var n=t[e].visiting_countries;n.sort(country_sort_fn);for(var i=0;i<n.length;i++)n[i].cities.sort(city_sort_fn),n[i].non_cities.sort(city_sort_fn)}return t}},"#visiting_country_dropdown":{country_content_container:"#visiting-content-container",country_list_name:"resident countries",country_list_data_key:"resident_countries",dropdown_placeholder:"Search Visiting country",data:function(){for(var t=Object.keys(all_visiting_countries).sort(country_sort_fn),e=[],n=0;n<t.length;n++){for(var i=all_visiting_countries[t[n]],o=i.resident_countries,a=[],s=Object.keys(o),l=0;l<s.length;l++){var r=o[s[l]],_=all_resident_countries[r.resident_index],c=_.visiting_countries[r.visiting_index];c.cities.sort(city_sort_fn),c.non_cities.sort(city_sort_fn),a.push({name:_.name,flag:_.flag,cities:c.cities,non_cities:c.non_cities,info:c.info})}a.sort(country_sort_fn),e.push({name:t[n],flag:i.flag,resident_countries:a})}return e}}},E=(t=function(t,e){this._config=e,this._elements={$dropdown:t,$country_content_container:$(e.country_content_container)};var n=e.data;this._data="function"==typeof e.data?n():n,p(this),h(this),this._selected_indexes={},this.scroll_disabled=!1,b(this),y(this)},p=function(t){t._elements.$country_content_container.html('<div class="country_list_container"><h2 class="main_heading medium_heading dim_color marv_0">Choose from <span class="country_count"></span>          '+t._config.country_list_name+' to display locations below</h2>          <ul class="country_list col_type_normal padt_small non_inline" data-column-details="country_and_city_list"></ul>        </div>        <div class="city_and_non_city_list_container">          <h2 class="main_heading medium_heading dim_color padt_small marv_0">Choose from <span class="city_count"></span> locations            to display address</h2>          <ul class="city_and_non_city_list col_type_normal padt_small non_inline" data-column-details="country_and_city_list"></ul>        </div>        <div class="details_wrapper"></div>        <div class="extra_info"></div>')},f={country_list_container:".country_list_container",country_list:".country_list",country_count:".country_count",city_and_non_city_list_container:".city_and_non_city_list_container",city_and_non_city_list:".city_and_non_city_list",city_count:".city_count",details_wrapper:".details_wrapper",extra_info:".extra_info"},h=function(t){for(var e in f)t._elements["$"+e]=t._elements.$country_content_container.find(f[e])},d=function(t){return null!=t&&-1!=t},v={selected_dropdown_country_details:function(t){var e=t._selected_indexes.dropdown_country;return d(e)?t._data[e]:{}},country_list_array:function(t){return v.selected_dropdown_country_details(t)[t._config.country_list_data_key]||[]},selected_country_list_details:function(t){var e=v.country_list_array(t),n=t._selected_indexes.from_country_list;return d(n)?e[n]:{cities:[],non_cities:[]}},selected_city_or_non_city_details:function(t){var e,n=v.selected_country_list_details(t),i=t._selected_indexes.city,o=t._selected_indexes.non_city;return d(i)?e=n.cities[i]:d(o)&&(e=n.non_cities[o]),e||{}}},m=function(t,e,n){e.children("li").each(function(){$(this).css("margin-right","0px")}),setTimeout(function(){e.children("li").each(function(){$(this).css("margin-right","")}),g(t,n)})},g=function(t,e,n){t.scroll_disabled||animate_parent_frame_scroll(e,t._config.scroll_duration,n)},_=function(t){return'<div class="image_wrapper">                  <img src="'+t.flag+'" alt="'+t.name+' Flag" />                </div>                <span>'+t.name+"</span>"},c=function(t,e){var n=e.name,i=window.parent.vfs.data.country_aliases[n],o=(t=t.toLowerCase(),n.toLowerCase().indexOf(t)),a=-1;if(i)for(var s=0;s<i.length;s++){var l=i[s].toLowerCase().indexOf(t);a=0==l||-1!=l&&0!=a?l:a}return 0==o||0==a?0:(-1!=o||-1!=a)&&1},r=function(t,e){e._selected_indexes.dropdown_country=t,e._selected_indexes.from_country_list=-1,x(e)},u={on_selected:function(t){var e=this.dropdown_data_displayer_obj;r(t.index,e),m(e,e._elements.$country_list,e._elements.$country_list_container)},on_remove_selected:function(){r(-1,this.dropdown_data_displayer_obj)}},b=function(t){var e=t._elements.$dropdown;autocomplete.create(e.attr("data-autocomplete","").addClass("search_dropdown"),{data:t._data,placeholder:t._config.dropdown_placeholder,list_template_html:_,selected_template_html:_,match_input_search:c,callbacks:u}),e.data("autocomplete").dropdown_data_displayer_obj=t},n={country_list:function(t,e,n){a(e,"from_country_list",t,n),k(n)?m(n,n._elements.$city_and_non_city_list,n._elements.$city_and_non_city_list_container):o(n)},city_and_non_city_list:function(t,e,n){a(e,e.hasClass("city")?"city":"non_city",t,n),j(n),o(n)}},o=function(t){g(t,t._elements.$details_wrapper,"center")},a=function(t,e,n,i){i._selected_indexes.city=-1,i._selected_indexes.non_city=-1,i._selected_indexes[e]=parseInt(t.attr("data-index")),$(n.delegateTarget).children("li").removeClass("active"),t.addClass("active")},l=function(n){return function(t){var e=$(this);if(!e.hasClass("active"))return n.call(this,t,e,t.data)}},y=function(t){for(var e in n)t._elements["$"+e].on("click","li",t,l(n[e]))},w=function(t,e,n){for(var i="",o=0;o<t.length;o++)i+='<li data-index="'+o+'"'+(n?' class="'+n+'"':"")+">"+e(t,o,n);return i},i=function(t,e){var n=t[e];return'<div class="image_wrapper">          <img src="'+n.flag+'" alt="'+n.name+' Flag" />        </div>        <span>'+n.name+"</span>"},x=function(t){var e=v.country_list_array(t),n=w(e,i);t._elements.$country_list.html(n),t._elements.$country_count.html(e.length),t._elements.$country_list_container.css("display",n?"block":"none"),k(t)},s=function(t,e){return"<span>"+t[e].name+"</span>"},k=function(t){var e,n=v.selected_country_list_details(t),i=n.cities,o=n.non_cities,a=!1;return 0==i.length&&1==o.length?(e="",t._selected_indexes.non_city=0):(e=w(i,s,"city")+w(o,s,"non_city"),a=!0),t._elements.$city_count.html(i.length),t._elements.$city_and_non_city_list.html(e),t._elements.$city_and_non_city_list_container.css("display",e?"block":"none"),C(t),j(t),a},C=function(t){var e=v.selected_country_list_details(t);t._elements.$extra_info.html(e.info||"")},j=function(t){var e=v.selected_city_or_non_city_details(t),n=t._elements.$details_wrapper;e.content?n.html('<div class="main_details">'+e.content+'</div>                <a class="more_info" href="'+e.link+'" target="_blank">                  <span></span>                </a>').addClass("show"):n.html("").removeClass("show"),dynamic_columns.set_column(!0),set_iframe_height()},t.prototype.show_data_container=function(){this._elements.$country_content_container.addClass("active")},t.prototype.hide_data_container=function(){this._elements.$country_content_container.removeClass("active")},t);return function(){for(var t in T){var e=$(t);if(0!=e.length){var n=T[t];e.each(function(){var t=$(this);t.data("dropdown_data_displayer",new E(t,$.extend({},A,n)))})}}}}();function set_iframe_height(){vfs.global_variables.$frame.css("height",vfs.global_variables.$body.outerHeight()+1+"px")}var animate_parent_frame_scroll=function(){var i={top:function(t){return t.el_top},center:function(t){return t.el_top-window.parent.vfs.details.window_dimension.height/2+t.$el.outerHeight()/2}};return function(t,e,n){n=n||"top",window.parent.vfs.utilities.vertical_scroll.animate(i[n]({$el:t,el_top:t.offset().top+vfs.global_variables.$frame.offset().top}),e)}}();function check_run_window_resize(){window.loaded&&window.document_ready&&(dynamic_columns.set_column(),set_iframe_height())}var generate_all_data=function(){function p(t){return $.trim(t.replace(/&amp;/g,"&").replace(/\s+/g," "))}return function(){all_resident_countries=[],$all_box_content=$(".box_content"),$(".map > * > a").each(function(){var t=$(this),f=p(t.children("span").html()),i=[],e=$.trim(sub_string(t.attr("onclick"),"displayHideBox('","')")),n=t.attr("data-flag"),o=$all_box_content.filter("#LightBox"+e),a=o.find(".tab-content-inner > .country_map_container > ul.tab_content_list > li");o.find(".tabs_wrapper > ul.tabs > li > a").each(function(){var t=$(this),c=p(t.children("span").html()),u=[],d=[],e=a.filter("#"+t.attr("rel")),n=e.children(".info");e.find(".heading_details_wrapper").each(function(){var t,e=$(this),n=e.closest("li"),i=e.children("h5").html(),o=n.hasClass("orange"),a=i.match(/\sfrom\s/i),s=e.children(".details_wrapper"),l=s.find(".main_details").html()||"",r=n.attr("data-geo-position");if(!o){if(!a)throw Error('Invalid heading "'+i+'"');i=i.substring(a.index+a[0].length)}if(!o&&!$.trim(l))throw Error('there is no content given in non orange city named "'+i+'" in visiting country "'+c+'" in resident country "'+f+'"');if(1<(l=l.split(/<\s*hr\s*\/?>/gi)).length)for(var _=0;_<l.length;_++)if(!l[_].trim().length)throw Error('content does not have any text in city "'+i+'" in visiting country "'+c+'" in resident country "'+f+'"');r&&((r=r.split(","))[0]=parseFloat($.trim(r[0])),r[1]=parseFloat($.trim(r[1]))),t={name:p(i),content:1<l.length?l:l[0],link:s.find("a.more_info").attr("href"),position:[n.css("left"),n.css("top")],geo_position:r},o?d.push(t):u.push(t)}),i.push({name:c,flag:t.children(".image_wrapper").children("img").attr("src"),dropdown_resident_name:t.attr("data-dropdown-resident-name"),cities:u,non_cities:d,rel:t.attr("rel"),info:$.trim(n.html()),info_name:$.trim(n.attr("data-name"))})}),all_resident_countries.push({name:f,class_name:t.parent().attr("class").trim(),lightbox_num:e,flag:n,dropdown_resident_name:t.attr("data-dropdown-resident-name"),visiting_countries:i})}),function(){all_visiting_countries={};for(var t=0;t<all_resident_countries.length;t++)for(var e=all_resident_countries[t].visiting_countries,n=0;n<e.length;n++){var i=e[n].name;all_visiting_countries[i]=all_visiting_countries[i]||{flag:e[n].flag,resident_countries:{}},all_visiting_countries[i].resident_countries[all_resident_countries[t].class_name]={resident_index:t,visiting_index:n,rel:e[n].rel}}}()}}(),init_all_visiting_list=function(){var i,o,t,e,n,a,s=function(){var t=$(".all_visiting_countries_container > ul.country_list"),e=o[$(".all_visiting_countries_container > ul.alphabet_list > li > a.active").attr("data-alphabet")];t.html("");for(var n=0;n<e.length;n++)t.append('<li>                    <a href="javascript:;">                        <div class="image_wrapper">                            <img src="'+all_visiting_countries[e[n]].flag+'" alt="'+e[n]+'" />                        </div>                        <span>'+e[n]+"</span>                    </a>                </li>")},l=function(){$(".map_container > .map > *").removeClass("hide"),$(".all_visiting_countries_container > ul.country_list > li > a").removeClass("active")},r=(e=function(){var t=$(this);"*"!=t.attr("data-alphabet")&&t.hasClass("active")||(l(),$(".all_visiting_countries_container > ul.alphabet_list > li > a").removeClass("active"),t.addClass("active"),s(),set_iframe_height())},n=function(){$(document).on("click",".all_visiting_countries_container > ul.alphabet_list > li > a",e)},t=function(){var t=$(this),e=t.hasClass("active");l(),e||(t.addClass("active"),$(".map_container > .map > *").filter(":not(."+Object.keys(all_visiting_countries[t.children("span").html()].resident_countries).join(", .")+")").addClass("hide"),window.parent.vfs.utilities.vertical_scroll.animate_to_el(vfs.global_variables.$frame,500))},a=function(){$(document).on("click",".all_visiting_countries_container > ul.country_list > li > a",t)},function(){n(),a()});return function(){i=Object.keys(all_visiting_countries).sort(country_sort_fn),function(){var t,e=$("<ul>").addClass("alphabet_list").append('<li><a href="javascript:;" data-alphabet="*" class="active">All</a></li>').prependTo(".all_visiting_countries_container");o={"*":i};for(var n=0;n<i.length;n++)t=i[n].toUpperCase().charAt(0),0!=n&&t==i[n-1].toUpperCase().charAt(0)||(o[t]=[],e.append('<li><a href="javascript:;" data-alphabet="'+t+'">'+t+"</a></li>")),o[t].push(i[n])}(),$("<ul>").addClass("country_list").appendTo(".all_visiting_countries_container"),s(),r()}}(),animation={show:function(t,e){t.addClass("active show show_animation"),t.data("animate-end",!1),t.one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(){t.data("animate-end")||(t.data("animate-end",!0),t.removeClass("show show_animation"),e&&e(t))})},hide:function(t,e){t.removeClass("active").addClass("show hide_animation"),t.data("animate-end",!1),t.one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(){t.data("animate-end")||(t.data("animate-end",!0),t.removeClass("show hide_animation"),e&&e(t))})}};function switch_tabs(t,e){var n=$("#"+t.attr("rel")),i=$("ul.tab_content_list > li.active");n.is(i)||(e?i.removeClass("active"):animation.hide(i),$(".tabs a.active").removeClass("active"),e?n.addClass("active"):animation.show(n),t.addClass("active"))}function sub_string(t,e,n){var i=t.indexOf(e),o=i+e.length,a=t.indexOf(n,o);return-1==i||-1==a?null:t.substring(o,a)}var vfs={create_blank_object:function(e){var t=function(){},n=function(t){return function(){e[t].apply(o,Array.prototype.slice.call(arguments))}};for(var i in e)t.prototype[i]=n(i);t.prototype.loop=function(t,e){var n;for(var i in o)if(o.hasOwnProperty(i)&&void 0!==(n=t(i,o[i],o,e)))break;return n};var o=new t;return o}};vfs.global_variables=vfs.create_blank_object({set:function(){var t={window:window,document:document,html:"html",body:"body",html_body:"html, body",head:"head",frame:frameElement};return function(){vfs.utilities.jQuery.create_elements(t,this)}}()}),vfs.prototypes={callback:function(){var i=function(t){t=t||{},this.__callbacks=[],this.__on_add=t.on_add,this.__call_condition=t.call_condition,this.__set_one_time=t.set_one_time};return i.constants={do_add:0,do_call:1,do_both:2},i.prototype.add=function(t,e){var n;e=e||{},this.__on_add&&(n=this.__on_add(e)),null==n||n.status!=i.constants.do_call&&n.status!=i.constants.do_both||t.call(n.this_param,n.event_obj,e.data),this.__set_one_time&&(e.is_one_time=!0),null!=n&&n.status!=i.constants.do_add&&n.status!=i.constants.do_both||this.__callbacks.push($.extend({fn:t},e))},i.prototype.remove=function(t){if(null==t)this.__callbacks.splice(0,this.__callbacks.length);else{for(var e=[],n=0;n<this.__callbacks.length;n++)("string"==typeof t&&this.__callbacks[n].name===t||"function"==typeof t&&this.__callbacks[n].fn===t)&&e.push(n);vfs.utilities.json_and_arr.remove_indexes_from_arr(this.__callbacks,e)}},i.prototype._call=function(t,e,n){"boolean"==typeof e&&(n=e,e=void 0),t=t||{},e=e||window,t.preventDefault=!1;for(var i,o,a=[],s=0;s<this.__callbacks.length;s++)if(!(o=i=null)!==n&&null!=this.__call_condition&&(o=this.__call_condition(this.__callbacks[s],s,t)),!1!==o&&(i=this.__callbacks[s].fn.call(e,t,this.__callbacks[s].data),this.__callbacks[s].is_one_time&&a.push(s),!1===i)){t.preventDefault=!0;break}return vfs.utilities.json_and_arr.remove_indexes_from_arr(this.__callbacks,a),t},i}()},vfs.details={window_dimension:function(){var t=function(){var t=n.width,e=n.height;return"Safari"==vfs.details.browser.name?(n.width=vfs.global_variables.$html.width(),n.height=vfs.global_variables.$html.height()):(n.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight),n.width!==t||n.height!==e},e=function(){t()&&n.changed_callbacks._call(n)},n={init:function(){n.changed_callbacks=new vfs.prototypes.callback,t(),vfs.global_variables.$window.resize(e)}};return n}(),browser:function(){var t,e=null,n=null,i=function(){var t=(document.body||document.documentElement).style,e="transition";if("string"==typeof t[e])return!0;var n=["Moz","webkit","Webkit","Khtml","O","ms"];e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof t[n[i]+e])return!0;return!1}(),o=navigator.appVersion,a=o.indexOf("MSIE"),s=!(!(t=document.createElement("canvas")).getContext||!t.getContext("2d")),l="placeholder"in document.createElement("input");return-1!==a&&(e="IE",n=parseInt($.trim(o.substring(a+"MSIE".length,o.indexOf(".",a))))),null===e&&/constructor/i.test(window.HTMLElement)&&(e="Safari"),{name:e,version:n,support_transitions:i,support_canvas:s,support_placeholder:l}}()},vfs.utilities={string:{auto_format_fn:{overwrite:function(t){return t},prepend:function(t,e){return t+e},append:function(t,e){return e+t}},transform_case:function(){var n={upper_first:"toUpperCase",lower_first:"toLowerCase"},t=function(t){var e=n[t];return function(t){return t.charAt(0)[e]()+t.substring(1)}},e={};for(var i in n)e[i]=t(i);return e}(),replace_hyphen_to_camelcase:function(){var e=function(t){return t.charAt(1).toUpperCase()};return function(t){return t.replace(/-./g,e)}}(),replace_chars:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(e.hasOwnProperty(i)){var o=e[i];t=t.substring(0,n)+o+t.substring(n+1),n+=o.length-1}}return t}},json_and_arr:{get_all_keys:function(t){var e=[];for(var n in t)e.push(n);return e},get_key_of_value:function(t,e){for(var n in t)if(t[n]==e)return n;return null},get_swap_value:function(t,e){var n=e.toString();return null!=t[n]?t[n]:vfs.utilities.json_and_arr.get_key_of_value(t,e)},get_key_of_true_condition:function(t){if("object"!=typeof t||$.isArray(t))return t;for(var e in t)if(t[e]())return e;return null},remove_indexes_from_arr:function(t,e){e.sort().reverse();for(var n=0;n<e.length;n++)t.splice(e[n],1);return t},loop_obj:function(t,e,n,i,o){if("object"==typeof t&&null!=t){var a,s=!1;if(n&&"object"==typeof n&&!$.isArray(n)&&(s=n.are_prevent_keys,n=n.keys),!n||s){for(var l in t)if(-1==$.inArray(l,n)&&null!=(a=e(t,l,t[l],o)))return a}else for(var r=0;r<n.length;r++)if(null!=(a=e(t,n[r],t[n[r]],o)))return a;return i}},get_defined_keys_from_arr:function(t,e){for(var n=[],i=0;i<t.length;i++)t[i]in e&&n.push(t[i]);return n},is_equal:function(){var s,a=(s=function(t,e,n,i){if(n!==i.obj2[e])return!(!i.deep||!vfs.utilities.json_and_arr.is_equal(n,i.obj2[e],i.also_deep_keys?i.keys:null,i.deep,i.also_deep_keys))&&void 0},function(t,e,n,i,o){var a={obj2:e,keys:n,deep:i,also_deep_keys:o};return vfs.utilities.json_and_arr.loop_obj(t,s,n,!0,a)});return function(t,e,n,i,o){return"boolean"==typeof n&&(i=n,n=void 0),o=o||!1,"object"==typeof t&&"object"==typeof e&&(a(t,e,n,i,o)&&Boolean(n||a(e,t,n,i,o)))}}(),update_value:function(){var o=function(t,e,n,i){t[e]=i.set_fn(i.value,n)};return function(t,e,n,i){return"object"==typeof n&&(i=n,n=void 0),n=n||vfs.utilities.string.auto_format_fn.overwrite,vfs.utilities.json_and_arr.loop_obj(t,o,i,t,{value:e,set_fn:n})}}(),flat_arr:function(){var a=function(t,e){e=isNaN(e)?1:Number(e);for(var n,i=[],o=0;o<t.length;o++)(n=t[o])instanceof Array&&e?i.push.apply(i,a(n,e-1)):i.push(n);return i};return a}(),convert_arr:function(){var n={lowercase:function(t){return t.toLowerCase()}},t=function(t){var e=n[t];return function(t){return t.map(e)}},e={};for(var i in n)e[i]=t(i);return e}()},functions:{get_sort_fn:function(){var _,n,t=function(t){var o=t.init,a=t.loop,s=t.return_val;return function(t){var e=Array.prototype.slice.call(arguments),n=o&&o.apply(this,e);if(a)for(var i in t)a(t,i,t[i],n);return s&&s(t,n)}},l=[t({init:function(t,e){return e.obj_key},loop:function(t,e,n,i){t[e]="object"==typeof n&&i?n[i]:n}}),t({init:function(t,e){return e.replace_chars},loop:function(t,e,n,i){t[e]="string"==typeof n&&i?vfs.utilities.string.replace_chars(n,i):n}}),t({init:function(t,e){return e.case_sensitive},loop:function(t,e,n,i){t[e]="string"!=typeof n||i?n:n.toLowerCase()}})],r=[t({init:function(t,e){var n=e.exceptional_values;if(!n||e.case_sensitive)return n;var i={};for(var o in n)i[o]=vfs.utilities.json_and_arr.convert_arr.lowercase(n[o]);return i},return_val:(_={top:-1,bottom:1},n=function(t,e,n){var i=t[e],o=_[e],a=$.inArray(n.a,i),s=$.inArray(n.b,i),l=-1!=a,r=-1!=s;return l&&r?a<s?-1:1:l&&!r?o:!l&&r?-o:null},function(t,e){return e&&(n(e,"top",t)||n(e,"bottom",t))})})];return function(a){var s=a.is_descending?-1:1;return function(t,e){for(var n={a:t,b:e},i=0;i<l.length;i++)l[i](n,a);for(i=0;i<r.length;i++){var o=r[i](n,a);if(o)return o}return s*(n.a<n.b?-1:1)}}}()},css:{get_inline_css:function(){var s=["","Webkit","ms","Moz","O"];return function(t,e){var n,i,o;e=vfs.utilities.string.replace_hyphen_to_camelcase(e),n=vfs.utilities.string.transform_case.upper_first(e);for(var a=0;a<s.length&&(i=""==s[a]?e:s[a]+n,""==(o=t.style[i])||null==o);a++);return null==o?"":o}}()},jQuery:{is_or_contains:function(t,e){return $.contains(t,e)||$(t).is(e)},create_elements:function(){var l=function(t){return"function"==typeof t?t():t};return function(t,e,n){e=e||{};var i,o,a=(n=!n&&e.hasOwnProperty("container")?"container":n)?$(l(t[n])):null;for(var s in t)o=s==n?a:(i=l(t[s]),a?a.find(i):$(i)),e["$"+s]=o;return e}}(),create_plugin_module:function(i,t,o,a,e,n){"boolean"==typeof a?(n=a,a=void 0):"boolean"==typeof e&&(n=e,e=void 0),e=e||{},(a=a||{}).callbacks=a.callbacks||{},a.callbacks.on_init=null;var s,l,r,_=[],c=(r=function(t,e){var n=h.global_callbacks[t];return function(t){n._call(t,this),e&&e.call(this,t)}},function(t){var e=$.extend(!0,{},a,t),n=e.callbacks;for(var i in n)n[i]=r(i,n[i]);return e}),u=function(t,e){this._$element=t,this._options=e,o.constructor.call(this),e.callbacks.on_init.call(this)},d=(l={set_options:function(t,e){for(var n in t)(e||t[n]!=this._options[n])&&(o.set_option_methods[n]&&o.set_option_methods[n](this,t[n]),this._options[n]=t[n])}},function(){$.extend(u.prototype,l,o.prototype)}),f=function(t,e){var n=new u(t,c(e));return t.data(i,n),n},p=(s=function(i){i=i||{},$(t).each(function(){var t,e=$(this);for(var n in i)if(e.is(n)){t=i[n];break}_.push(f(e,t))})},function(){t&&(h.init_common_obj=s)}),h={default_options:a,call_fn_to_all_obj:function(t,e,n){"string"==typeof t&&(e=t,t=void 0);for(var i=(t=t||vfs.global_variables.$body)[0],o=0;o<_.length;o++)vfs.utilities.jQuery.is_or_contains(i,_[o].$el[0])&&_[o][e](n)},global_callbacks:function(){var t=a.callbacks,e={};for(var n in t)e[n]=new vfs.prototypes.callback;return e}()},v=function(t,e){return t.each(function(){_.push(f($(this),e))})};return p(),d(),$.extend(!0,h,e),e.create=v,n&&(h.create=v),h}},classes:function(){var n,i,o=function(t,e,n,i){"string"==typeof e&&(e=e.split(" "));for(var o=0;o<e.length;o++)if(n(t,e[o]))return i.on_condition_true;return i.on_end};return{has_any_class:(i=function(t,e){return t.hasClass(e)},function(t,e){return o(t,e,i,{on_condition_true:!0,on_end:!1})}),has_all_class:(n=function(t,e){return!t.hasClass(e)},function(t,e){return o(t,e,n,{on_condition_true:!1,on_end:!0})}),replace_class:function(t,i,o,a){t.each(function(t,e){var n=$(this);(!0===a||n.hasClass(i))&&n.removeClass(i).addClass(o)})}}}(),vertical_scroll:function(){var _,i,s,l,o,a=function(t){return t.is("body")?vfs.global_variables.$window.scrollTop():t.scrollTop()},r=(o=function(t){if(t.is("body"))return"auto";var e=t.css("overflow").toLowerCase();return""==e?t.css("overflow-y").toLowerCase():e},function(t){for(var e,n=t;"auto"!=e&&"scroll"!=e;)n=n.parent(),e=o(n);return n}),c=(i=[{prop:"el_offset_top",fn:function(t){return t.main_el.offset().top}},{prop:"scrollable_el_offset_top",fn:function(t){return t.scrollable_el.offset().top}},{prop:"el_height",fn:function(t){return t.main_el.outerHeight()}},{prop:"scrollable_el_height",fn:function(t){return t.scrollable_el.outerHeight()}},{prop:"scroll_top",fn:function(t){return a(t.scrollable_el)}},{prop:"el_related_top",fn:function(t,e){return t.scrollable_el.is("body")?e.el_offset_top:e.el_offset_top-e.scrollable_el_offset_top+e.scroll_top}},{prop:"max_scroll_top",fn:(_=function(t){t.max_scroll_top=t.scrollable_el.outerHeight()-t.initial_height},function(t,e){if(t.scrollable_el.is("body"))return e.scrollable_el_height-vfs.details.window_dimension.height;var n,i,o,a,s,l,r={scrollable_el:t.scrollable_el,initial_height:e.scrollable_el_height};return n=t.scrollable_el,i=e,o=_,a=r,s=vfs.utilities.css.get_inline_css(n[0],"height")||"",l=vfs.utilities.css.get_inline_css(n[0],"max-height")||"",n.css({height:"auto",maxHeight:"none",overflowY:"scroll"}),o(a),n.css({height:s,maxHeight:l,overflowY:""}),n.scrollTop(i.scroll_top),r.max_scroll_top})}],s=function(t){for(var e={},n=0;n<i.length;n++)e[i[n].prop]=i[n].fn(t,e);return e},l={scroll_to_top:function(t,e){return e.el_related_top},scroll_to_show:function(t,e){var n=l.scroll_to_top(t,e),i=t.scrollable_el.is("body")?e.scroll_top:e.scrollable_el_offset_top,o=t.scrollable_el.is("body")?vfs.details.window_dimension.height:e.scrollable_el_height;return e.el_offset_top<i?n:e.el_offset_top+e.el_height>i+o?n-o+e.el_height:e.scroll_top}},function(t,e){var n,i={main_el:t,scrollable_el:r(t)},o=i.scrollable_el.scrollTop(),a=s(i);return n=(n=(n=l[e=e||"scroll_to_top"](i,a))<0?0:n)>a.max_scroll_top?a.max_scroll_top:n,i.scrollable_el.scrollTop(o),n}),u=function(t,e,n,i,o){return"number"==typeof t&&(o=i,i=n,n=e,e=t,t=void 0),"string"==typeof i&&(o=i,i=void 0),o=o||"normal",((t=t||vfs.global_variables.$html_body).is("html")||t.is("body"))&&(t=vfs.global_variables.$html_body),("prevent_if_animating"!=o||!t.is(":animated"))&&(a(t)!=e?("jump_to_end"==o?t.stop(!0,!0):t.stop(),t.animate({scrollTop:e},n,i)):null!=i&&i(),!0)};return{get_animate_top_of_el:c,animate:u,animate_to_el:function(t,e,n,i){return"object"==typeof n&&(i=n,n=void 0),i=i||{},u(r(t),c(t,i.animate_top_type),e,n,i.behaviour)}}}(),slide_element:function(){var u,d,f,p,h,v={swap_props:{show:"hide"},details:{show:{get_from_to_height_fn:{from:function(t,e){return e==t.css("height","").height()?0:e},to:function(t){return t.css("height","").height()}},css_height_for_scroll_top:"",from_to_keys:{from:"from",to:"to"}},hide:{check_condition:function(t){return t.hasClass("show")},get_from_to_height_fn:{from:function(t){return t.height()},to:function(t){return 0}},css_height_for_scroll_top:"0px",from_to_keys:{from:"to",to:"from"},on_complete:function(t){t.css("display","")}}},init_dynamic:function(){v.all_classes=vfs.utilities.json_and_arr.get_all_keys(v.details)}},l=(u=["before_animation","on_complete"],d=function(t,e,n,i){t.css({height:"",overflow:""}),null!=n&&t.css(vfs.utilities.json_and_arr.update_value($.extend({},n),"")),e.on_complete&&e.on_complete(t),vfs.utilities.check_call_callback(i,"on_complete",t)},f=function(t,e){var n,i=t.css("height"),o=vfs.global_variables.$window.scrollTop();return t.css("height",e.css_height_for_scroll_top),n=vfs.utilities.vertical_scroll.get_animate_top_of_el(t),t.css("height",i),vfs.global_variables.$html_body.scrollTop(o),n},p=function(t,e){e?vfs.utilities.vertical_scroll.animate(t,e):vfs.global_variables.$html_body.scrollTop(t)},h=function(t,e){var n={};for(var i in t)n[i]=t[i][e];return n},function(t,e,n,i,o,a,s){if(!(t instanceof jQuery)||0==t.length)return!1;if(t.hasClass(e)||n.check_condition&&!n.check_condition(t))return!1;"boolean"==typeof a&&(s=a,a=void 0),"object"==typeof o&&vfs.utilities.json_and_arr.get_defined_keys_from_arr(u,o).length?(a=o,o=void 0):"boolean"==typeof o&&(s=o,o=void 0),"object"==typeof i?i=vfs.utilities.json_and_arr.get_defined_keys_from_arr(u,i).length?void(a=i):void(o=i):"boolean"==typeof i&&(s=i,i=void 0),i=i||0,a=a||{},s=s||!1,t.css("display","block"),vfs.utilities.check_call_callback(a,"before_animation",t);var l=t.height(),r={height:n.get_from_to_height_fn.to(t,l)},_=vfs.utilities.json_and_arr.get_swap_value(v.swap_props,e),c=s?f(t,n):null;return t.css("height",n.get_from_to_height_fn.from(t,l)+"px"),o&&(t.css(h(o,n.from_to_keys.from)),$.extend(r,h(o,n.from_to_keys.to))),vfs.utilities.classes.replace_class(t,_,e,!0),i?t.stop().animate(r,i,function(){d($(this),n,o,a)}):d(t,n,o,a),s&&p(c,i),!0}),t=function(a){var s=v.details[a];return function(t,e,n,i,o){return l(t,a,s,e,n,i,o)}},e={init:v.init_dynamic};for(var n in v.details)e[n]=t(n);return e}(),check_call_callback:function(t,e,n,i,o){if(t)if("function"==typeof n&&(o=i,i=n,n=void 0),"function"==typeof t){if(!i||i(o))return t(e,n)}else if("object"==typeof t)return vfs.utilities.check_call_callback(t[e],n,t[e+"_param"],i,o)}};var dynamic_columns=function(){var c,e,n,u={country_and_city_list:{4:function(){return 650<=vfs.details.window_dimension.width},3:function(){return vfs.details.window_dimension.width<650&&450<=vfs.details.window_dimension.width},2:function(){return vfs.details.window_dimension.width<450}}},d={},f="data-column-details",p=["first","second","third","fourth","fifth"],i=(n=function(){var t=$(this),e=t.children(),n=t.attr("data-column"),i=vfs.utilities.json_and_arr.get_key_of_true_condition(u[t.attr(f)]);if(e.addClass("cur_no_transition"),c||n!=i){if(t.attr("data-column",i),e.removeClass(p.join(" ")),e.removeClass("first_in_row last_in_row first_row last_row last"),i=JSON.parse(i)){e.attr("data-row-index",function(t){return Math.floor(t/i)});for(var o=1;o<=i;o++)e.filter(":nth-child("+i+"n + "+o+")").addClass(p[o-1]);var a=e.length;e.filter(":nth-child("+i+"n+1)").addClass("first_in_row"),e.filter(":nth-child("+i+"n)").addClass("last_in_row");var s=a<i?a:i,l=a%i;l=0==l?i:l,e.filter(":nth-child(-n+"+s+")").addClass("first_row"),e.filter(":gt(-"+(l+1)+")").addClass("last_row")}for(var r in e.filter(":last-child").addClass("last"),d)if(t.is(r)){var _=d[r];cur_column_classes=_.column_classes[String(i)],cur_column_classes_length=cur_column_classes.length,e.removeClass(_.all_extra_classes),e.each(function(t,e){$(this).addClass(cur_column_classes[t%cur_column_classes_length])})}}setTimeout(function(){e.removeClass("cur_no_transition")},50)},function(t){c=t,e.each(n)});return{init:function(t){t=t||vfs.global_variables.$body,e=t.find("[data-column-details]"),i()},set_column:i}}(),autocomplete=vfs.utilities.jQuery.create_plugin_module("autocomplete","[data-autocomplete]",function(){var n,a,e,i,o,s,l,r,_,c,u,d,f,p,h,v,m,g=(v=function(t,e,n,i,o){t[e="_$"+e]&&t[e].remove(),"function"==typeof n&&(n=n.call(t)),!n||n instanceof jQuery||(n=$(n)),t[e]=n||$("<div>").appendTo(t._$element),t[e].addClass(i).append(o)},m=function(t,e,n,i){return e?e.call(t,n,i):n.toString()},{data:(p=[{key:"_hover_index",fn:function(t){j.hover(t,-1)}},{key:"_prev_hover_index",fn:function(t){t._prev_hover_index=-1}},{key:"_selected_index",fn:function(t){j.selected(t,-1)}}],h=function(t,e){for(var n=0;n<p.length;n++)o=e,a=(i=t)[p[n].key],s=i._options.data[a],l=o[a],("object"==typeof s&&"object"==l?vfs.utilities.json_and_arr.is_equal(s,l,!0):s===l)||p[n].fn(t);var i,o,a,s,l},function(t,e,n){for(var i=t._options.list_template_html,o=$(),a=0;a<e.length;a++)o=o.add($("<li>").attr("data-index",a).html(m(t,i,e[a],a)));t._$list_all_li=o,n||A(t,"list_all_li"),h(t,e),t._visible_data_indexes=null,x(t,e)}),placeholder:function(t,e){t._$input_search_el.attr("placeholder",e)},disabled:function(t,e){e?(E(t,!1),t._$element.addClass("disabled"),t._$input_search_el.attr("disabled","")):(t._$element.removeClass("disabled"),t._$input_search_el.removeAttr("disabled"))},toggle_button_html:function(t,e){t._$toggle_button.html(e)},remove_selection_button_html:function(t,e){t._$remove_selection_button.html(e)},list_template_html:function(t,e){for(var n=t._options.data,i=0;i<n.length;i++)t._$list_all_li.filter('[data-index="'+index+'"]').html(m(t,e,n[i],i))},selected_template_html:function(t,e){var n=t._selected_index;null!=n&&0<=n&&n<t._options.data.length?t._$selected.html(m(t,e,t._options.data[n],n)):t._$selected.html("")},not_found_html:function(t,e){t._$not_found.html(e)},list_always_show:function(t,e){T(t,e||t._has_focus?"show":"hide")},slide_direction:function(t,e){if(t._$element.removeClass("slide-list-up slide-list-down"),!t._options.list_always_show&&t._has_focus){t._$element.addClass("slide-list-"+e);var n=t._$list_wrapper.offset().top,i=n+t._$list_wrapper.outerHeight(),o=vfs.global_variables.$window.scrollTop();"up"==e&&n<o?t._$element.removeClass("slide-list-up").addClass("slide-list-down"):"down"==e&&i>o+vfs.details.window_dimension.height&&t._$element.removeClass("slide-list-down").addClass("slide-list-up")}},input_wrapper:function(t,e){v(t,"input_wrapper",e,"input-wrapper",t._$input_search_el)},selected_wrapper:function(t,e){v(t,"selected_wrapper",e,"selected-wrapper",t._$selected.add(t._$remove_selection_button))},toggle_button_wrapper:function(t,e){v(t,"toggle_button_wrapper",e,"toggle-button-wrapper",t._$toggle_button)},list_wrapper:function(t,e){v(t,"list_wrapper",e,"list-wrapper",t._$section_list.add(t._$not_found))},list_section_wrapper:function(t,e){t._options.list_section_wrapper=e,x(t)}}),b=function(t){return parseInt(t.attr("data-index"))},t=(f=[{name:"input_wrapper",on_before:function(t){t._$input_search_el=$('<input type="text" autocomplete="off" />').addClass("search-input"),g.placeholder(t,t._options.placeholder)}},{name:"selected_wrapper",on_before:function(t){t._$selected=$("<div>").addClass("selected"),t._$remove_selection_button=$("<div>").addClass("remove-selection-button"),g.remove_selection_button_html(t,t._options.remove_selection_button_html)}},{name:"toggle_button_wrapper",on_before:function(t){t._$toggle_button=$("<div>").addClass("toggle-button"),g.toggle_button_html(t,t._options.toggle_button_html)}},{name:"list_wrapper",on_before:function(t){t._$section_list=$("<ul>").addClass("section-list"),t._$not_found=$("<div>").addClass("not-found"),g.not_found_html(t,t._options.not_found_html)},on_after:function(t){g.list_always_show(t,t._options.list_always_show)}}],function(t){for(var e,n,i,o=0;o<f.length;o++)e=f[o].name,n=f[o].on_before,i=f[o].on_after,n&&n(t),g[e](t,t._options[e]),i&&i(t)}),y=function(t,e){var n=t._input_val;t._input_val=t._$input_search_el.val(),t._$element.attr("data-input",t._input_val),n!=t._input_val&&t._options.callbacks.on_input_changed.call(t,{prev_input_val:n,cur_input_val:t._input_val}),e||x(t)},w=(d=function(){var t=$(this);t.css("display","none"),this.offsetHeight,t.css("display","")},function(e){setTimeout(function(){var t=e._$section_list.scrollTop();e._$list_all_li.each(d),e._$section_list.scrollTop(t)})}),x=(c={init:function(t){t._$list_wrapper.css("height",""),t._list_wrapper_height=t._$list_wrapper.height()},animate:function(t,e){if(e.prev_visible_data_indexes){var n=t._$list_wrapper.height();t._$list_wrapper.css("height",t._list_wrapper_height),t._$list_wrapper.stop().animate({height:n},t._options.slide_duration,function(){(function(t){$(this).css("height","")}).call(this),w(t)}),delete t._list_wrapper_height}else delete t._list_wrapper_height}},u=function(t){var e,n,i,o,a,s,l,r,_=t._visible_data_indexes;t._$list_all_li.detach(),t._$section_list.html("");for(var c=0;c<_.length;c++)if(_[c]){i=c,r=l=s=a=o=void 0,r=(n=t)._options.list_section_wrapper,(o=(o=r&&r(i))||$("<div>"))instanceof jQuery||(a=o.$main_wrapper,s=o.$content_wrapper),a=a||o,s=s||a,a.addClass("list-section-main-wrapper"),s.addClass("list-section-content-wrapper"),l=$("<ul>"),s.append(l),n._$section_list.append($("<li>").append(a)),e=l;for(var u=0;u<_[c].length;u++)e.append(t._$list_all_li.filter('[data-index="'+_[c][u]+'"]'))}else _.splice(c,1),c--},function(t,e){y(t,!0);var n,i=function(t,e){var n=t._options.match_input_search,i=[];e=e||t._options.data;for(var o=0;o<e.length;o++){var a=n.call(t,t._input_val,e[o],o);"number"==typeof a||a?(i[a=!0===a?0:a]=i[a]||[],i[a].push(o)):t._hover_index==o&&j.hover(t,-1)}return i}(t,e),o=!t._visible_data_indexes||t._visible_data_indexes.join(";")!=i.join(";"),a={prev_visible_data_indexes:t._visible_data_indexes,current_visible_data_indexes:i};t._visible_data_indexes=i,o&&(c.init(t),u(t),(n=t)._visible_data_indexes.length?(n._$element.removeClass("no-items"),n._$section_list.removeClass("hide"),n._$not_found.addClass("hide")):(n._$element.addClass("no-items"),n._$section_list.addClass("hide"),n._$not_found.removeClass("hide")),c.animate(t,a),t._options.callbacks.on_visible_list_changed.call(t,a))}),k=(_={animate_top_type:"scroll_to_show",behaviour:"jump_to_end"},function(t,e){t instanceof jQuery&&t.length&&-1!=e&&t.closest("body").length&&vfs.utilities.vertical_scroll.animate_to_el(t,e,_)}),C=function(t,e){for(var n=-1,i=-1,o=0;o<t._visible_data_indexes.length;o++)if(-1!=(i=$.inArray(e,t._visible_data_indexes[o]))){n=o;break}return{section_index:n,found_index:i}},j=function(){var s,e,n,t={hover:{extra_condition:function(t,e){return-1!=C(t,e).section_index},on_set:function(t,e){e.dont_scroll_list||k(t._$list_hover_li,t._options.scroll_list_duration_on_hover)},on_remove:function(t,e){t._prev_hover_index=e.index}},selected:(e=function(t){g.selected_template_html(t,t._options.selected_template_html)},n=function(t){t._options.blur_on_select&&E(t,!1)},{on_set:function(t){e(t),n(t)},on_no_set:function(t,e){e==t._selected_index&&n(t)},on_remove:e})},l=(s=function(t,e,n,i){t[i.index]=e,t[i.li]=-1==e?(t[i.li]&&t[i.li].removeClass(n),null):t._$list_all_li.filter('[data-index="'+e+'"]').addClass(n),t._$element.attr("data-"+n+"-index",e)},function(t,e,n,i,o,a){e!=t[i.index]&&(-1==e||0<=e&&e<t._options.data.length)?(function(t,e,n,i){if(-1!=t[n.index]){var o={index:t[n.index],$li:t[n.li]};s(t,-1,e,n),i.on_remove&&i.on_remove(t,o),t._options.callbacks[n.remove_callback].call(t,o)}}(t,n,i,o),-1==e||o.extra_condition&&!o.extra_condition(t,e,a)||(s(t,e,n,i),o.on_set&&o.on_set(t,a),t._options.callbacks[i.set_callback].call(t,{index:e,$li:t[i.li]}))):o.on_no_set&&o.on_no_set(t,e,a)}),i=function(i){var o=t[i],a={index:"_"+i+"_index",li:"_$list_"+i+"_li",set_callback:"on_"+i,remove_callback:"on_remove_"+i};return function(t,e,n){return l(t,e,i,a,o,n||{})}},o={};for(var a in t)o[a]=i(a);return o}(),A=(o={selected:{"click.autocomplete.selected_wrapper":function(t){E(t.data,!0)}},input_search_el:{"focus.autocomplete.input":function(t){E(t.data)},"blur.autocomplete.input":function(t){var e=t.data;t.relatedTarget&&!vfs.utilities.jQuery.is_or_contains(e._$element[0],t.relatedTarget)&&e._has_focus&&E(t.data,!1)},"keydown.autocomplete.input":(i=function(t,e,n){var i=vfs.utilities.json_and_arr.flat_arr(t._visible_data_indexes),o=$.inArray(e,i);return i[-1==o?0:o+n]},function(t){if(38==t.which||40==t.which){var e=t.data,n=38==t.which?-1:1;-1==e._hover_index||null==e._hover_index?-1!=C(e,e._selected_index).section_index?j.hover(e,i(e,e._selected_index,n)):-1!=C(e,e._prev_hover_index).section_index?j.hover(e,e._prev_hover_index):j.hover(e,e._visible_data_indexes[0]&&e._visible_data_indexes[0][0]):j.hover(e,i(e,e._hover_index,n)),t.preventDefault()}}),"keyup.autocomplete.input":function(t){var e=t.data;13==t.which&&null!=e._hover_index&&-1!=e._hover_index?(j.selected(e,e._hover_index),t.preventDefault()):x(e)},"change.autocomplete.input":function(t){x(t.data)}},remove_selection_button:{"click.autocomplete.remove_selection":function(t){var e=t.data;j.selected(e,-1),e.set_input_val("")}},toggle_button:{"click.autocomplete.toggle":function(t){E(t.data,!t.data._has_focus)}},list_all_li:{"mouseenter.autocomplete.list_li":function(t){j.hover(t.data,b($(this)),{dont_scroll_list:!0})},"mouseleave.autocomplete.list_li":function(t){t.data._hover_index==b($(this))&&j.hover(t.data,-1)},"click.autocomplete.list_li":function(t){j.selected(t.data,b($(this)))}}},s=function(t,e){t["_$"+e].on(o[e],t)},l=function(t,e){if(e)s(t,e);else for(e in o)s(t,e)},e=function(t){var e=t.data;vfs.utilities.jQuery.is_or_contains(e._$element[0],t.target)||E(e,!1)},r=function(t){vfs.global_variables.$document.on("click.autocomplete.outside",t,e)},function(t,e){e?l(t,e):(l(t),r(t))}),T=(a={show:{before_animation:function(t,e){g.slide_direction(e.obj,e.obj._options.slide_direction)},on_complete:function(t,e){w(e.obj),k(e.obj._$list_selected_li,e.obj._options.scroll_list_duration_on_open),n(0,e)}},hide:{on_complete:n=function(t,e){e.obj._options.callbacks["on_"+e.view_type+"_list"].call(e.obj)}}},function(t,e,n){var i={obj:t,view_type:e},o={class_fn:"show"==e?"addClass":"removeClass",slide_duration:n?t._options.slide_duration:0,callbacks:$.extend({before_animation_param:i,on_complete_param:i},a[e])};t._$list_wrapper[o.class_fn]("show-list"),vfs.utilities.slide_element[e](t._$list_wrapper,o.slide_duration,o.callbacks)}),E=function(t,e){return!((e=null==e||e)==t._has_focus||t._options.disabled&&e)&&(t._has_focus=Boolean(e),e?(t._$element.addClass("focused"),t._$input_search_el.focus(),t._options.list_always_show||T(t,"show",!0),t._options.callbacks.on_focus.call(t)):(j.hover(t,-1),t._$element.removeClass("focused"),t._$input_search_el.blur(),t._options.list_always_show||T(t,"hide",!0),t._options.callbacks.on_blur.call(t)),!0)};return{constructor:function(){this._has_focus=!1,this._$element.addClass("autocomplete-search-box"),t(this),g.data(this,this._options.data,!0),A(this),g.disabled(this,this._options.disabled)},set_option_methods:g,prototype:{set_focus:function(t){return E(this,t)},in_visible_data_indexes:function(t){return C(this,t)},set_hover_index:function(t){j.hover(this,t)},set_selected_index:function(t){j.selected(this,t)},set_input_val:function(t){this._$input_search_el.val(t),y(this)}}}}(),{data:[],placeholder:"Search",disabled:!1,toggle_button_html:'<i class="icon-arrow-point-down"></i>',remove_selection_button_html:'<i class="icon-close" title="Clear"></i>',list_template_html:null,selected_template_html:null,not_found_html:"Not Found",list_always_show:!1,blur_on_select:!0,slide_duration:200,slide_direction:"down",scroll_list_duration_on_open:300,scroll_list_duration_on_hover:100,match_input_search:function(t,e,n){return-1!=e.toLowerCase().indexOf(t.toLowerCase())},input_wrapper:null,selected_wrapper:null,toggle_button_wrapper:null,list_wrapper:null,list_section_wrapper:null,callbacks:{on_focus:null,on_blur:null,on_visible_list_changed:null,on_hover:null,on_remove_hover:null,on_selected:null,on_remove_selected:null,on_show_list:null,on_hide_list:null,on_input_changed:null}},!0);